<!DOCTYPE html>
 <!--
 ASSIGNMENT RULES
 - The solution must be pushed to the repository and be available for the tutors by the end of the day
 - You can ask for tutor's help
 - You can google / use StackOverflow BUT we suggest you to use just the material provided
 - To test the page, just open it with your default browser.

 ASSIGNMENT TOPIC
 You are building a task list site.
 The have a list of tasks and can, at any time, add a new one, delete one or sort the whole bunch of them
 -->
 <html lang="en">
   <head>
     <!-- EXERCISE 1:
     Specify the title, the charset (UTF-8) and the viewport of the page.
     -->
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>List of tasks</title>

    
     </body>
     </html>
     <style>
       /* EXERCISE 2:  
        Create a CSS class for the task list with a diverse background
        Create a CSS class for the task list item with a border, a bold text and a bigger font size
        Style every button of the page to be bigger
     */
    body {
        background-image: radial-gradient(circle 1000px, white, lightblue);
    }
     
     h1 {
        border: 1px solid black;
        font-size: 50px;
        font-weight: bold;
    }

    input[type="button"]
        {		      
            border-radius: 10px;
            padding: 10px;
    }
     </style>
   </head>
   <body>
     <h1>Welcome to your personal Task List!</h1>
     <br />

      <span
       >You can add any task you like by writing it in the specified field and
       then press "Add new task"</span
     ><br /><br />

        <input type="text" id="newTask" />
        <input type="button" value="Add new Task" onclick="addNewTask()" />

      <!-- EXERCISE 3
         Create a button "Remove Last Task" to trigger the method "removeLast"
         -->

         <input type="button" value="Remove Last Task" onclick="removeLast()"/>

      <!-- EXERCISE 4
         Create a button "Remove First Task" to trigger the method "removeFirst"
         -->

         <input type="button" value="Remove First Task" onclick="removeFirst()"/>

      <ul id="myTaskList"></ul>

      <hr />

      <input type="color" placeholder="Color" id="colorPicker" />
     <input
       type="button"
       value="Change task background"
       onclick="changeTaskBackgroundColor()"
     />

      <hr />

      <input type="button" value="Sort" onclick="bubblesort()" />

      <script>
       /* EXERCISE 5: 
                 Add a new task to the list.
                 Suggestion:
                 - Use document.getElementById to get the UL item and the input text
                 - Use the document.createElement to create the new List Item
                 - Append the child to the UL
             */

        const addNewTask = function () {
            let inputValue = document.getElementById("newTask");
            let ulElement = document.getElementById("myTaskList");
    
        let newItem = document.createElement("li");
            newItem.innerText = inputValue.value;
            ulElement.appendChild(newItem);
            inputValue.value= "";
}

        /* EXERCISE 6: 
                 Create a method "removeLast" which removes the last item from the task list
             */
        const removeLast = function () {
            let tasks = document.querySelectorAll("li");
            tasks[tasks.length-1].remove();     
    }

        /* EXERCISE 7: 
                 Create a method "removeFirst" which removes the first item from the task list
             */
        const removeFirst = function () {
            let tasks = document.querySelectorAll("li");
            tasks[0].remove();
        }



        /* EXERCISE 8: 
                Create a method "getTasksAsArray" which returns (and print to the console) an array containing the tasks as string
             */


        /* EXERCISE 9:
                Create a method "changeTaskBackgroundColor" which takes the color from the color picker with an 
                onchange event listener ad applies it as background to every list item
             */
      // const changeTaskBackgroundColor = function () {
     //   document.getElementById("colorPicker").style.backgroundColor = colorPicker.value


     const changeTaskBackgroundColor= function () {
            let colorPicker = document.getElementById("colorPicker");
            let tasks= document.querySelectorAll('li');
            for (let i=0; i<tasks.length; i++){
                tasks[i].style.backgroundColor= colorPicker.value;
            }
        }  


        /* EXTRA */

        /* EXERCISE 10: 
                Create a method "bubbleSort()" which sort the task list alphabetically using the bubble sort algorithm
             
                Use your spare time to beautify your task list with CSS.

                Suggestion:
                - Break the code into many function for semplicity 
                - Reuse the functions previously created
             */
     </script>
   </body>
 </html>